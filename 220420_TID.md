# 4월 20일 (수)

## 오늘 한 일

* 와 드디어 **구글 서치콘솔**에 **Sitemap**이 등록되었다.ㅠㅠㅠㅠ 역시 시간이 답이었다..

  ![image](https://user-images.githubusercontent.com/75322297/164040257-1177c509-8553-464a-af4a-9300e86cffc6.png)

  * 비록 노출된 수는 1이지만,, 진짜 너무너무행복하다...하

* 융합 프로젝트

  * 00:11

    * 크롤링을 위해 노트북을 빌려왔다.

  * 00:12

    * 현재 서울시 `id` `1136`번까지 진행되었고, 합쳐서 구글드라이브에 올릴 것이다.

  * 00:19

    * 업로드 완료

      ![image](https://user-images.githubusercontent.com/75322297/164038010-1c64f021-670a-4faf-a82e-858fc46c6d54.png)
    
  * 02:38
  
    * 손봐야할 것들
      * 경기/인천도 똑같이 돌릴 수 있게 통일화
      * 음식점 소개(introduce) 받아오기
      * target detached 해결하기
      * 모듈화 하기
  
  * 03:07
  
    * 음식점 소개 받아오는 것은 해결
  
  * 03:48
  
    * ![image](https://user-images.githubusercontent.com/75322297/164074507-7e3ab2f1-fec4-4a65-9a7c-065399619cd5.png)
    * 아무래도 이거는 네트워크나, 컴퓨터의 성능때매 일어나는 과부하 문제인 것 같다.
    * sleep을 너무 길게 주자니 그건 속도를 저해할 수도 있다는 생각이 들었다.
    * 그래서 끊겨도 이어서 갈 수 있는 파일을 또 만들어서 다행이다.
      * ![image](https://user-images.githubusercontent.com/75322297/164074662-118bdaf4-48f9-4e6c-abe2-0c9668dd840a.png)
  
  * 03:56
  
    * 우선 수정조금 해주신걸로 돌려놓고 자야겠다.
    * 해야할 것
      * 모듈화해서 지역별 데이터의 특성 고려
      * 받아온 노트북 환경세팅 및 크롤링
    
  * 09:08
  
    * 일어나보니 1102번까지 되어있었음
  
  * 10:28
  
    * 리뷰를 딕트형태로두면 같은 날짜는 겹쳐서, 리스트 형태로 받기로 했다.
  
  * 10:39
  
    * 리뷰 데이터에서 날짜가 `O 시간 전`이라고 뜨는 것도 처리해야한다.
  
  * 11:15
  
    * 몇 시간 전, 몇 일 전 처리 성공
  
    * 리뷰도 리스트형태로 성공
  
      ![image](https://user-images.githubusercontent.com/75322297/164133386-5c00bcc8-9ab8-4674-a8c5-21f70fcab89b.png)
  
  * 11:26
  
    * 채원님 : 네이버 크롤링 중, 사진만 따오면 됨
    * 나 : 망고플레이트 크롤링 코드는 거의 완성되가고 마치면 구글맵 건들여볼 것
    * 재정님 : 지역 데이터에 좌표(위,경도) 추가 중, 이상치가 발견되었음
    * 상동님 : Kolnpy 오류 고치고 명사 추출, 형태소 추출은 해봤으나 어떻게 써야할지 모르겠음. 패키지중 여러 클래스가 있어서 그것들 테스트 중
    * 형석님 : 크롤링 중, 다른 노트북에 환경 설정 중인데 자꾸 렉걸림
    * 정윤님 : 카카오 리뷰를 가져오고 있는데 힘들어서, 리뷰 가져오는 것 끝냈고, 상세정보만 가져오면 성공
  
  * 13:16
  
    * 도로명, 지번 주소 각각에 결측치들이 있어 봐야한다.
  
  * 14:20
  
    * 경기,서울은 처리했지만 인천에는 주소 자체가 `숭의동`이렇게 나와있는게 있다. 어떻게 처리하면 좋을까.
  
      ![image](https://user-images.githubusercontent.com/75322297/164156008-03c2bba1-87f3-497f-b66b-77d7e72c8094.png)
  
  * 14:41
  
    * 지역 상관없이 주소 특정 부분(OO구의 OO과 같은)을 가져오는 것에 성공!!
  
      ```python
      if 's_add' in df.columns:
          gu_add = df['s_add'].str.split(' ', expand=True)[1].str[:-1].fillna(0)
          gu_road = df['s_road'].str.split(' ', expand=True)[1].str[:-1].fillna(0)
          gu = []
          for i in range(len(df)):
              if gu_road[i] == 0:
                  gu.append(gu_add[i])
              else:
                  gu.append(gu_road[i])
      else:
          df['gu'] = df['s_road'].str.split(' ', expand=True)[1].str[:-1]
          gu = df['gu'].fillna('남')
      ```
  
  * 14:58
  
    * 아니 근데 왜 다시 딕셔너리형태로 리뷰를가져올까?ㅋㅋㅋㅋㅋ이해가안가네
  
  * 15:09
  
    * 내가 5개이하 리뷰는 아직도 dict상태로 뒀었다 ... 왜이리 멍청할까
  
  * 16:35
  
    * 리뷰 데이터 최종 결정!
  
      ```
      "리뷰 1 라라라랄"
      "리뷰 2 아렁지ㅏ버라ㅣㄷㅈ리"
      
      
      1번
      "s_review" : [
      	"리뷰 1 라라라랄", 
      	"리뷰 2 아렁지ㅏ버라ㅣㄷㅈ리"
      ]
      
      2번
      "s_review" : "리뷰 1 라라라랄 리뷰 2 아렁지ㅏ버라ㅣㄷㅈ리"
      
      ```
  
    * 2번 으로 채택
  
    * 다시 고치러 가야지 ^^
  
  * 19:26
  
    * 나오던 것들이 안나오는 기이한 현상이 또 발생한다...미치겠따